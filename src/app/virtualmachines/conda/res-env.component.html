<form>
  <div class="row">
    <div class="col"><label>
      Namespace:
      <input type="text" class="form-control col" [formControl]="user_key_url"
             [ngClass]="{
           'is-invalid':user_key_url?.invalid && (user_key_url?.dirty || user_key_url?.touched),
           'is-valid':user_key_url?.valid && (user_key_url?.dirty || user_key_url?.touched)}">
    </label>
      <div *ngIf="user_key_url.invalid && (user_key_url?.dirty || user_key_url?.touched)">
        <div class="alert alert-warning" *ngIf="user_key_url.errors.pattern">Allowed characters are upper and lower case
          letters (a-z A-Z).
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div *ngIf="selectedTemplate.template_name !== 'undefined'" class="col">
      <div class="card border-success flavor-image-card" style="cursor: default;">
        <div class="card-header bg-success text-truncate" data-toggle="tooltip" data-placement="top"
             title="{{selectedTemplate.template_name}}" (click)="setSelectedTemplate(null)" style="cursor: pointer;">
          <strong>{{selectedTemplate.template_name}}</strong>
          <button type="button" class="close"
                  aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button></div>
        <div class="card-body">
          <div class="scroll-image">
            <p>
              <img src="{{selectedTemplate?.template_logo_url}}" alt="{{selectedTemplate.template_name}}® "
                   style="width: 70px;">
            </p>
            <p>
              {{selectedTemplate?.template_description}}
            </p>
            <p *ngIf="selectedTemplate.template_info_url">
              <a href="{{selectedTemplate?.template_info_url}}" target="_blank">Click here for more Information.</a>
            </p>
          </div>
        </div>
      </div>

    </div>
    <div *ngIf="selectedTemplate.template_name === 'undefined'" class="col">
      <div class="card border-info flavor-image-card" style="cursor: default;">
        <div class="card-header bg-info text-truncate" data-toggle="tooltip" data-placement="top"
             title="Please choose a research environment">
          <strong>Choose a research environment</strong></div>
        <div class="card-body">
          <div class="scroll-image">For more information, please visit <a href="https://cloud.denbi.de/wiki/"
                                                                          target="_blank">the Wiki</a>.
          </div>
        </div>
      </div>

    </div>
  </div>
  <div class="row">
    <ng-container *ngFor="let template of templates">

      <div *ngIf="template.template_name !== selectedTemplate.template_name" class="col">
        <div class="card flavor-image-card" id="id_template_owl_{{template.template_name}}" style="cursor: default;">
          <div (click)="setSelectedTemplate(template)"
               class="card-header bg-info-flavor text-truncate" data-toggle="tooltip" data-placement="top"
               title="{{template.template_name}}"
               style="background-color: #005AA9 !important; color: white !important; cursor: pointer"> <!-- quickfix -->
            <strong>{{template.template_name}}</strong>
            <button type="button" class="close"
                    aria-label="Close">
              <span aria-hidden="true">+</span>
            </button></div>
          <div class="card-body">
            <div class="scroll-image">
              <p>
                <img src="{{template?.template_logo_url}}" alt="{{template.template_name}}® " style="width: 70px;">
              </p>
              <p>
                {{template?.template_description}}
              </p>
              <p *ngIf="template.template_info_url">
                <a href="{{template?.template_info_url}}" target="_blank">Click here for more Information.</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
  <!--
    <div *ngIf="carousel_activated && templates.length >=templates_per_row" class="row">
      <div [hidden]="!selectedTemplate" class="col-12" style="cursor: pointer; padding-top: 10px" [ngClass]="{'col-xl-3':window_size >= carousel_window_min_xl_9,
         'col-xl-6':window_size >= carousel_window_min_xl6 && window_size<carousel_window_min_xl_8,
         'col-xl-4':window_size <carousel_window_min_xl_9 && window_size>=carousel_window_min_xl_8}">
        <div class="card border-success flavor-image-card"
        >
          <div
            class="card-header bg-success text-truncate" data-toggle="tooltip" data-placement="top"
            title="{{selectedTemplate}}">
            <strong>{{selectedTemplate}}</strong></div>
          <div class="card-body">
          </div>
        </div>
      </div>
      <div *ngIf="!selectedTemplate" class="col-12 "
           style="border-style: dashed; border-color: lightgray; padding-top: 10px">
        <owl-carousel-o [options]="customOptions">
          <ng-container *ngFor="let template of templates">
            <ng-template carouselSlide>
              <div (click)="setSelectedTemplate(template);" class="card flavor-image-card" id="id_template_owl_{{template}}"
              >
                <div
                  class="card-header bg-info-flavor text-truncate" data-toggle="tooltip" data-placement="top"
                  title="{{template}}"
                  style="background-color: #005AA9 !important; color: white !important;"> &lt;!&ndash; quickfix &ndash;&gt;
                  <strong>{{template}}</strong></div>
                <div class="card-body">
                </div>
              </div>
            </ng-template>
          </ng-container>

        </owl-carousel-o>
      </div>
      <div *ngIf="selectedTemplate" class="col-lg-12"
           [ngClass]="{'col-xl-9':window_size >= carousel_window_min_xl_9,
         'col-xl-6':window_size >= carousel_window_min_xl6 && window_size<carousel_window_min_xl_8,
         'col-xl-8':window_size <carousel_window_min_xl_9 && window_size>=carousel_window_min_xl_8}"
           style="border-style: dashed; border-color: lightgray; padding-top: 10px">
        <owl-carousel-o [options]="customOptions">
          <ng-container *ngFor="let template of templates">
            <ng-template carouselSlide>
              <div (click)="setSelectedTemplate(template);" class="card flavor-image-card" id="id_template_owl_{{template}}"
              >
                <div
                  class="card-header bg-info-flavor text-truncate" data-toggle="tooltip" data-placement="top"
                  title="{{template}}" style="background-color: #005AA9 !important; color: white !important;">
                  <strong>{{template}}</strong></div>
                <div class="card-body">
                </div>
              </div>
            </ng-template>
          </ng-container>

        </owl-carousel-o>
      </div>
    </div>
  -->


  <!--
    <div class="row ">
      <div class="ml-auto mr-3"
           *ngIf="carousel_activated && (!selectedTemplate &&templates.length > templates_per_row || selectedTemplate
           &&templates.length > templates_per_row-1)  "
           (click)="carousel_activated=false;" style="cursor: pointer;"><strong class="text-info">Show
        all
        Templates</strong></div>
      <div class="ml-auto mr-3"
           *ngIf="!carousel_activated && (!selectedTemplate &&templates.length > templates_per_row || selectedTemplate &&templates.length > templates_per_row-1)"
           (click)="carousel_activated=true;" style="cursor: pointer;"><strong class="text-info">Hide
        Templates</strong></div>
    </div>
  -->


</form>
