<div *ngIf="isLoaded==false" class="loader"></div>

<div *ngIf="isLoaded" class="animated fadeIn" ng-app style="width: 100%">
    <div class="row">
        <!--/.col-->
        <h1 *ngIf="selectedFacility">Projects Overview: {{selectedFacility['Facility']}}


        </h1>
        <div class="card" style="width: 100%">
            <div class="card-header">
                <i class="fa fa-align-justify"></i> Resources

            </div>
            <div><select [(ngModel)]="selectedFacility"
                         (ngModelChange)="isLoaded=false;onChangeSelectedFacility($event);"
                         class="form-control" name="selectedFacility">
                <option *ngFor="  let facility of managerFacilities" [ngValue]="facility">
                    {{facility['Facility']}}
                </option>

            </select></div>

            <div class="card-block" style="width: 100%">


                <table id="contentToConvert"
                       class="table table-responsive table-striped table-bordered table"
                       style="width: 100%">
                    <thead>
                    <tr>
                        <th colspan="5"><h1>Facility: {{selectedFacility['Facility']}} {{today | date:'dd-MM-yyyy'}}</h1></th>
                    </tr>
                    </thead>
                    <thead>
                    <tr>
                        <th>{{today | date:'dd-MM-yyyy'}}</th>
                        <th>{{openstackApprovedResources.resource_name}}</th>
                        <th>{{openstackWFCResources.resource_name}}</th>
                        <th>{{simpleVmRessource.resource_name}}</th>
                        <th>{{totalResource.resource_name}}</th>
                    </tr>
                    </thead>
                    <tbody>

                    <tr>
                        <th>Ram [GB]</th>
                        <td>{{openstackApprovedResources.totalRam}}</td>
                        <td>{{openstackWFCResources.totalRam}}</td>
                        <td>{{simpleVmRessource.totalRam}}</td>
                        <td>{{totalResource.totalRam}}</td>
                    </tr>
                    <tr>
                        <th>Cores</th>
                        <td>{{openstackApprovedResources.totalCores}}</td>
                        <td>{{openstackWFCResources.totalCores}}</td>
                        <td>{{simpleVmRessource.totalCores}}</td>
                        <td>{{totalResource.totalCores}}</td>
                    </tr>
                    <tr>
                        <th>Vms</th>
                        <td>{{openstackApprovedResources.totalVms}}</td>
                        <td>{{openstackWFCResources.totalVms}}</td>
                        <td>{{simpleVmRessource.totalVms}}</td>
                        <td>{{totalResource.totalVms}}</td>
                    </tr>
                    <tr>
                        <th>Volumes</th>
                        <td>{{openstackApprovedResources.totalVolumeCounter}}</td>
                        <td>{{openstackWFCResources.totalVolumeCounter}}</td>
                        <td>{{simpleVmRessource.totalVolumeCounter}}</td>
                        <td>{{totalResource.totalVolumeCounter}}</td>
                    </tr>
                    <tr>
                        <th>Volumes Storage [GB]</th>
                        <td>{{openstackApprovedResources.totalVolumeLimit}}</td>
                        <td>{{openstackWFCResources.totalVolumeLimit}}</td>
                        <td>{{simpleVmRessource.totalVolumeLimit}}</td>
                        <td>{{totalResource.totalVolumeLimit}}</td>
                    </tr>
                    <tr>
                        <th>Object Storage [GB]</th>
                        <td>{{openstackApprovedResources.totalObjectStorage}}</td>
                        <td>{{openstackWFCResources.totalObjectStorage}}</td>
                        <td></td>
                        <td>{{totalResource.totalObjectStorage}}</td>
                    </tr>
                    <tr>
                        <th>FPGA</th>
                        <td>{{openstackApprovedResources.totalFPGA}}</td>
                        <td>{{openstackWFCResources.totalFPGA}}</td>
                        <td></td>
                        <td>{{totalResource.totalFPGA}}</td>
                    </tr>
                    <tr>
                        <th>GPU</th>
                        <td>{{openstackApprovedResources.totalGPU}}</td>
                        <td>{{openstackWFCResources.totalGPU}}</td>
                        <td></td>
                        <td>{{totalResource.totalGPU}}</td>
                    </tr>
                    </tbody>
                </table>

            </div>
            <div>
                <button (click)="tableToPDF()">Download PDF</button>
                <button (click)="tableToCSV()">Download CSV</button>
            </div>            <!-- DivTable.com -->
        </div>
        <!--/.col-->
    </div>
</div>
