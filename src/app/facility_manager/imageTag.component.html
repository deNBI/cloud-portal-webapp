<!DOCTYPE html>
<div *ngIf="isLoaded==false" class="loader"></div>

<div *ngIf="isLoaded" class="animated fadeIn" ng-app>

  <div class="row">
    <!--/.col-->
    <div class="col-md-8"><h1>Image tags</h1></div>
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <i class="fa fa-align-justify"></i> Image Tags
        </div>
        <div class="card-body">
          <div class="alert" [ngClass]="this.alertRed ? 'alert-danger' : 'alert-primary'" #tagAlert>Notice: The image
            tags must not contain spaces or special characters.
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-bordered">
              <tr>
                <th>Tag</th>
                <th>Description</th>
                <th>Actions</th>
              </tr>

              <tr *ngFor="let imageTag of imageTags">
                <td>{{imageTag['name']}}</td>
                <td>{{imageTag['description']}}</td>
                <td>
                  <button type="button" class="btn btn-primary"
                          (click)="deleteTag(imageTag['name']);">Delete Tag
                  </button>
                </td>
              </tr>
              <tr>
                <td><input type="text" placeholder="Tag" #tag pattern="[0-9a-zA-Z-_]*" required></td>
                <td><textarea type="text" class="form-control input-lg"
                              placeholder="Description"
                              #description></textarea>
                </td>
                <td>
                  <button type="button" class="btn btn-primary"
                          (click)="addTag(tag.value,description.value, tag);">Add Tag
                  </button>
                </td>

              </tr>
            </table>
          </div>
        </div>
        <div class="card-body">
          <div class="table-responsive-sm">
            <table class="table table-hover table-outline mb-0">
              <thead class="thead-default">
              <tr>
                <th class="text-center">Variables</th>
                <th class="text-center">Usage</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td class="text-center">&#123;IP&#125;</td>
                <td class="text-center">Returns ip of virtual machine.</td>
              </tr>
              <tr>
                <td class="text-center">&#123;PORT&#125;</td>
                <td class="text-center">Returns port of virtual Machine.</td>
              </tr>
              </tbody>
            </table>
          </div>
          <div class="card-body col-4">
            <div class="table-responsive-sm">
              <table class="table table-bordered table-outline mb-0">
                <thead class="thead-default">
                <tr>
                  <th colspan="12"> If you tag an image with one of the following tags, the logos will be displayed as
                    well!
                  </th>

                </tr>
                <tr>
                  <th>Tag</th>
                  <th>Url</th>
                  <th>Logo</th>
                  <th>Actions</th>

                </tr>
                </thead>
                <tbody>
                <td><input type="text" placeholder="Tag" [(ngModel)]="imageTag"
                >
                </td>
                <td><input type="url" placeholder="Url" [(ngModel)]="imageUrl">
                </td>
                <td><img *ngIf="imageUrl" alt="Not found" src="{{imageUrl}}" style="width:200px;height:100px ">
                </td>
                <td>
                  <button type="button" (click)="addLogoTag()" class=" btn btn-secondary"
                          [disabled]="!imageTag || !imageUrl || imageLogoTagAvailable()"> Add
                  </button>
                </td>
                <tr *ngFor="let logo of imageLogos ">
                  <td>{{logo?.tag}}</td>
                  <td><a href="{{logo?.url}}">{{logo?.url}}</a></td>
                  <td><img alt="Not found" src="{{logo?.url}}"
                           style="width:200px;height:100px;"></td>
                  <td>
                    <button (click)="removeLogoTag(logo)" type="button" class=" btn btn-secondary"> Remove</button>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
