<div *ngIf="errorMessage !== null">
	<div class="alert alert-info">
		{{ errorMessage }}
	</div>
</div>

<div *ngIf="!isLoaded && errorMessage === null" class="loader"></div>

<div *ngIf="isLoaded" class="animated fadeIn">
	<div class="row">
		<div
			*ngIf="
				(project_application | hasstatusinlist: Application_States.SUBMITTED) ||
				(project_application | hasstatusinlist: Application_States.DECLINED)
			"
			class="col-12"
		>
			<div class="card" id="submittedProjectInfoDiv">
				<div class="card-header">
					<h3>
						@if (project_application?.project_application_openstack_project) {
							@if (project_application?.project_application_kubernetes_access) {
								<a
									data-toggle="tooltip"
									href="{{ KUBERNETES_LINK }}"
									rel="noopener noreferrer"
									style="font-size: 2em"
									target="_blank"
									title="This is an Kubernetes project"
								>
									<img class="po-logo" src="{{ kubernetes_logo }}" />
								</a>
							} @else {
								<a
									data-toggle="tooltip"
									href="{{ OPENSTACK_LINK }}"
									rel="noopener noreferrer"
									style="font-size: 2em"
									target="_blank"
									title="This is an Openstack project"
								>
									<img class="po-logo" src="{{ openstack_logo }}" />
								</a>
							}
						} @else {
							<a
								data-toggle="tooltip"
								href="{{ SIMPLE_VM_LINK }}"
								rel="noopener noreferrer"
								style="font-size: 2em"
								target="_blank"
								title="This is a Simple VM project"
							>
								<img class="po-logo" src="{{ simple_vm_logo }}" />
							</a>
						}
						{{ project_application?.project_application_name }}
					</h3>
				</div>

				<div
					*ngIf="
						!(project_application | hasstatusinlist: Application_States.APPROVED) &&
						!(project_application | hasstatusinlist: Application_States.TERMINATED) &&
						!(project_application | hasstatusinlist: Application_States.DECLINED)
					"
					class="card-body"
					id="project_application_status_overview"
				>
					<!-- <i class="fas fa-tasks"></i> -->
					<app-application-progress [application]="project_application"></app-application-progress>
				</div>

				<div
					*ngIf="
						project_application &&
						(project_application?.user_is_pi || project_application?.user_is_admin || !project_application)
					"
					class="card-body"
				>
					<div class="row">
						<div class="btn-group col-12">
							<button
								(click)="deleteModal.show()"
								*ngIf="
									(project_application | hasstatusinlist: Application_States.SUBMITTED) ||
									(project_application | hasstatusinlist: Application_States.DECLINED)
								"
								class="btn btn-outline-danger col-6"
								id="remove_application_button"
								style="margin: auto"
								type="button"
							>
								Remove Application
							</button>
							<button
								(click)="this.showInformationCollapse = !this.showInformationCollapse"
								class="btn btn-outline-primary col-6"
								id="submitted_show_information_btn"
								style="margin: auto"
								type="button"
							>
								<i class="fa fa-info-circle"></i>&nbsp;
								<span *ngIf="this.showInformationCollapse">Hide information</span>
								<span *ngIf="!this.showInformationCollapse">Show more information</span>
							</button>
						</div>
					</div>
				</div>

				<div [ngClass]="{ show: showInformationCollapse }" class="collapse">
					<div class="table-responsive">
						<table class="table table-hover">
							<thead>
								<tr>
									<th></th>
									<th>Project Name</th>
									<th>Short Name</th>
									<th>Lifetime</th>
									<th>Date submitted</th>
									<th>Status</th>
								</tr>
							</thead>
							<tbody>
								<ng-container>
									<tr>
										<td>
											<span
												*ngIf="project_application?.project_application_openstack_project"
												data-toggle="tooltip"
												style="font-size: 20px"
												title="This is an Openstack project"
											>
											</span>
											<span
												*ngIf="!project_application?.project_application_openstack_project"
												data-toggle="tooltip"
												style="font-size: 20px"
												title="This is a Simple VM project"
											>
											</span>
											<span
												style="margin-left: 12px"
												class="badge badge-warning"
												data-toggle="tooltip"
												data-placement="auto"
												title="This application uses sensitive data"
												*ngIf="project_application?.project_application_person_related_data"
												><span style="font-size: 15px"> <i class="fas fa-fingerprint"></i></span>
											</span>
										</td>
										<td>{{ project_application?.project_application_name }}</td>
										<td>{{ project_application?.project_application_shortname }}</td>
										<td>{{ project_application?.project_application_lifetime }} months</td>
										<td>{{ project_application?.project_application_date_submitted }}</td>
										<td>
											<ng-container *ngFor="let st of project_application?.project_application_statuses">
												<span *ngIf="st !== 19" class="badge bg-primary" style="margin-left: 3px; margin-right: 3px">
													{{ getStatusById(st) }}
												</span>
											</ng-container>
										</td>
									</tr>
								</ng-container>
							</tbody>
						</table>
						<app-application-detail [application]="project_application"></app-application-detail>
					</div>
				</div>
			</div>
		</div>

		<div
			*ngIf="
				project_application &&
				!(project_application | hasstatusinlist: Application_States.TERMINATED) &&
				!(project_application | hasstatusinlist: Application_States.DECLINED) &&
				!(project_application | hasstatusinlist: Application_States.SUBMITTED)
			"
			class="col-12"
		>
			<div class="card" id="projectInformationDiv">
				<div class="card-header">
					<div class="row">
						<div class="col">
							<h3>
								@if (project_application?.project_application_openstack_project) {
									@if (project_application?.project_application_kubernetes_access) {
										<a
											data-toggle="tooltip"
											href="{{ KUBERNETES_LINK }}"
											rel="noopener noreferrer"
											style="font-size: 2em"
											target="_blank"
											title="This is an Kubernetes project"
										>
											<img class="po-logo" src="{{ kubernetes_logo }}" />
										</a>
									} @else {
										<a
											data-toggle="tooltip"
											href="{{ OPENSTACK_LINK }}"
											rel="noopener noreferrer"
											style="font-size: 2em"
											target="_blank"
											title="This is an Openstack project"
										>
											<img class="po-logo" src="{{ openstack_logo }}" />
										</a>
									}
								} @else {
									<a
										data-toggle="tooltip"
										href="{{ SIMPLE_VM_LINK }}"
										rel="noopener noreferrer"
										style="font-size: 2em"
										target="_blank"
										title="This is a Simple VM project"
									>
										<img class="po-logo" src="{{ simple_vm_logo }}" />
									</a>
								}

								{{ project_application?.project_application_shortname }}
							</h3>
						</div>
						<div
							*ngIf="
								(project_application | hasstatusinlist: Application_States.APPROVED) ||
								(project_application | hasstatusinlist: Application_States.MODIFICATION_REQUESTED) ||
								(project_application | hasstatusinlist: Application_States.MODIFICATION_DECLINED)
							"
							class="col d-flex justify-content-end"
						>
							<button (click)="leaveProjectModal.show()" class="btn btn-danger" type="button" style="max-height: 40px">
								<i class="fas fa-sign-out-alt"></i>
								Leave Project
							</button>
						</div>
					</div>
				</div>

				<div
					*ngIf="!project_application?.project_application_statuses?.includes(Application_States.APPROVED)"
					class="card-body"
					id="project_application_status_overview_further"
				>
					<!-- <i class="fas fa-tasks"></i> -->

					<app-application-progress [application]="project_application"></app-application-progress>
				</div>

				<div
					*ngIf="project_application | hasstatusinlist: Application_States.APPROVED"
					class="card-body"
					id="projectMainInformationDiv"
				>
					<div class="row" *ngIf="project_application | hasstatusinlist: Application_States.DISABLED">
						<div class="alert alert-danger col-6" role="alert">
							Your project has been disabled and is currently in its final stage before termination. Your application
							has expired and multiple reminders have been sent for you to request a lifetime extension. It's crucial
							that you create a lifetime extension request right now if you want to keep your project. Otherwise, it
							could be deleted anytime without another notice. For further assistance, please contact our
							<a
								href="mailto:{{ CLOUD_PORTAL_SUPPORT_MAIL }}"
								rel="noopener noreferrer"
								style="margin-top: 15px"
								target="_blank"
								>helpdesk</a
							>
						</div>
					</div>
					<div class="row">
						<div class="col-6">
							<div
								class="callout callout-info"
								style="border-top-width: 0; border-bottom-width: 0; border-right-width: 0"
								title="The project has been running for {{ project_application?.DaysRunning }} of a total of {{
									project_application?.lifetime_days
								}} granted days"
							>
								<small class="text-muted">Project Runtime</small><br />
								<strong class="text-muted"
									>{{ project_application?.project_application_date_approved }} - {{ project_application?.date_end }}
									<span
										*ngIf="
											(project_application | hasstatusinlist: Application_States.LIFETIME_EXTENSION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_EXTENSION)
										"
									>
										- Extension by {{ project_application?.project_lifetime_request?.extra_lifetime }}
										months requested on
										{{ project_application?.project_lifetime_request?.date_submitted }}
									</span>
									<span
										*ngIf="
											(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM)
										"
									>
										- Termination requested</span
									> </strong
								><br />
								<div class="progress" style="height: 2px">
									<div
										[ngStyle]="{
											'width.%': calculateProgressBar(
												project_application?.DaysRunning / project_application?.lifetime_days
											),
										}"
										aria-valuemax="100"
										aria-valuemin="0"
										class="progress-bar bg-info"
										role="progressbar"
									></div>
								</div>
							</div>
						</div>
						<div class="col-6">
							<div class="btn-group" style="margin-top: 15px">
								<ng-container
									*ngIf="
										!project_application.user_is_admin &&
										!(
											(project_application | hasstatusinlist: Application_States.LIFETIME_EXTENSION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_EXTENSION) ||
											lifetimeExtensionDisabled
										)
									"
								>
									<span
										class="d-inline-block"
										data-toggle="tooltip"
										tabindex="0"
										title="Only project administators are able to request project extensions."
									>
										<button class="btn btn-outline-primary" disabled>Request extension</button>
									</span>
								</ng-container>
								<button
									(click)="showWithDrawExtensionModal()"
									*ngIf="
										project_application.user_is_admin &&
										(project_application | hasstatusinlist: Application_States.LIFETIME_EXTENSION_REQUESTED)
									"
									class="btn btn-outline-warning"
									data-test-id="show_lifetime_extension_withdraw_button"
									id="show_lifetime_extension_withdraw_button"
								>
									Withdraw extension request
								</button>
								<button
									(click)="showApplicationRequestModal(ApplicationRequestType.Extension)"
									*ngIf="
										project_application.user_is_admin &&
										!(
											(project_application | hasstatusinlist: Application_States.LIFETIME_EXTENSION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_EXTENSION) ||
											(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM) ||
											lifetimeExtensionDisabled
										)
									"
									class="btn btn-outline-primary"
									id="show_doi_question_modal"
									data-test-id="open_extension_request_button"
								>
									Request extension
								</button>
								<button
									*ngIf="
										(project_application | hasstatusinlist: Application_States.LIFETIME_EXTENSION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_EXTENSION) ||
										(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM) ||
										lifetimeExtensionDisabled
									"
									class="btn btn-outline-secondary"
									disabled
									data-toggle="tooltip"
									id="show_doi_question_modal_disabled"
									[title]="
										(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM)
											? 'You are not able to request an extension, as there is an ongoing termination request'
											: 'You are not able to request another extension, as there currently is a pending extension request for this project'
									"
								>
									{{
										(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM)
											? 'Request extension'
											: 'Extension requested'
									}}
								</button>

								<ng-container
									*ngIf="
										!project_application.user_is_admin &&
										(project_application | hasstatusinlist: Application_States.APPROVED) &&
										!(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) &&
										!(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM)
									"
								>
									<span
										class="d-inline-block"
										data-toggle="tooltip"
										tabindex="0"
										title="Only project administators are able to request project terminations."
									>
										<button class="btn btn-outline-danger" disabled>Request termination</button>
									</span>
								</ng-container>
								<button
									(click)="showApplicationRequestModal(ApplicationRequestType.Termination)"
									*ngIf="
										project_application.user_is_admin &&
										(project_application | hasstatusinlist: Application_States.APPROVED) &&
										!(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) &&
										!(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM)
									"
									class="btn btn-outline-danger"
									id="show_termination_modal_button"
									data-test-id="open_termination_request_button"
								>
									Request termination
								</button>
								<button
									(click)="terminateModal.show()"
									*ngIf="
										(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM)
									"
									class="btn btn-outline-secondary"
									disabled
									id="show_termination_modal_button_disabled"
								>
									Termination Requested
								</button>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-6">
							<div
								*ngIf="resourceDataLoaded"
								class="callout"
								[ngClass]="(project_application | isMigratedProject) ? 'callout-warning' : 'callout-info'"
								style="border-top-width: 0; border-bottom-width: 0; border-right-width: 0"
							>
								<small class="text-muted">Computational Resources</small><br />
								<strong
									*ngIf="
										project_application?.project_application_openstack_project ||
										(project_application | isMigratedProject)
									"
									class="text-muted"
									>{{ maximumVMs }} VMs with a total of {{ project_application?.project_application_total_cores }} VCPUs
									and {{ project_application?.project_application_total_ram }} GBs of RAM
									<span
										*ngIf="
											(project_application | hasstatusinlist: Application_States.MODIFICATION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_MODIFICATION)
										"
									>
										- Resource modification requested on
										{{ project_application?.project_modification_request?.date_submitted }}
									</span>
								</strong>
								<strong
									*ngIf="
										!project_application?.project_application_openstack_project &&
										!(project_application | isMigratedProject)
									"
									class="text-muted"
									>{{ vmsInUse }} of {{ maximumVMs }} VMS, {{ coresInUse }} of
									{{ project_application?.project_application_total_cores }} VCPUs and {{ ramInUse }}
									of
									{{ project_application?.project_application_total_ram }} GBs RAM in use
									<span
										*ngIf="
											(project_application | hasstatusinlist: Application_States.MODIFICATION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_MODIFICATION)
										"
									>
										- Resource modification requested on
										{{ project_application?.project_modification_request?.date_submitted }}
									</span> </strong
								><br />
								<div
									*ngIf="
										!project_application?.project_application_openstack_project &&
										!(project_application | isMigratedProject)
									"
									class="progress"
									style="height: 2px"
								>
									<div
										[ngStyle]="{ 'width.%': calculateProgressBar(vmsInUse / maximumVMs) }"
										aria-valuemax="100"
										aria-valuemin="0"
										class="progress-bar bg-info"
										role="progressbar"
									></div>
								</div>
								<small class="text-muted" *ngIf="project_application | isMigratedProject">
									Please consider: As the project is migrated, the amount of used resources is visible in the
									<a [href]="NEW_SVM_PORTAL_LINK" target="_blank" rel="noopener noreferrer">SimpleVM platform</a>.
								</small>
							</div>
						</div>
						<div class="col-6">
							<div class="btn-group" style="margin-top: 15px">
								<ng-container
									*ngIf="
										!project_application.user_is_admin &&
										(project_application | hasstatusinlist: Application_States.APPROVED) &&
										!(
											(project_application | hasstatusinlist: Application_States.MODIFICATION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_MODIFICATION) ||
											(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM) ||
											modificationRequestDisabled
										)
									"
								>
									<span
										class="d-inline-block"
										data-toggle="tooltip"
										tabindex="0"
										title="Only project administators are able to request resource modifications."
									>
										<button class="btn btn-outline-primary" disabled>Request resource modification</button>
									</span>
								</ng-container>
								<button
									(click)="showApplicationRequestModal(ApplicationRequestType.Modification)"
									*ngIf="
										project_application.user_is_admin &&
										!(
											(project_application | hasstatusinlist: Application_States.MODIFICATION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_MODIFICATION) ||
											(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM) ||
											modificationRequestDisabled
										)
									"
									class="btn btn-outline-primary"
									data-test-id="open_modification_request_button"
									id="show_modification_extension_button"
								>
									Request resource modification
								</button>
								<button
									(click)="showWithDrawModificationModal()"
									*ngIf="
										project_application.user_is_admin &&
										(project_application | hasstatusinlist: Application_States.MODIFICATION_REQUESTED)
									"
									class="btn btn-outline-warning"
									data-test-id="show_modification_extension_withdraw_button"
									id="show_modification_extension_withdraw_button"
								>
									Withdraw resource modification
								</button>
								<button
									*ngIf="
										(project_application | hasstatusinlist: Application_States.MODIFICATION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_MODIFICATION) ||
										(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM) ||
										modificationRequestDisabled
									"
									class="btn btn-outline-secondary"
									disabled
									id="show_modification_extension_button_disabled"
									data-toggle="tooltip"
									[title]="
										(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM)
											? 'You are not able to request a modification request, as there is an ongoing termination request'
											: 'You are not able to request another modification, as there currently is a pending modification request for this project'
									"
								>
									{{
										(project_application | hasstatusinlist: Application_States.TERMINATION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_TERMINATION_FM)
											? 'Request resource modification'
											: 'Resource modification requested'
									}}
								</button>
								<a
									*ngIf="project_application?.project_application_openstack_project"
									class="btn btn-outline-success"
									href="{{ project_application?.project_application_compute_center.Login }}"
									rel="noopener noreferrer"
									target="_blank"
									>Login to OpenStack</a
								>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-6" title="Click Contact to send a mail to the facility.">
							<div
								class="callout callout-info"
								style="border-top-width: 0; border-bottom-width: 0; border-right-width: 0"
							>
								<small class="text-muted">Facility</small><br />
								<strong class="text-muted">{{ project_application?.project_application_compute_center.Name }}</strong>
							</div>
						</div>
						<div class="col-6">
							<div class="btn-group">
								<a
									*ngIf="
										!project_application.project_application_openstack_project &&
										project_application.project_application_workshop &&
										!project_application?.user_is_admin
									"
									class="btn btn-outline-primary"
									href="mailto:test@test.test"
									rel="noopener noreferrer"
									style="margin-top: 15px"
									target="_blank"
									>Contact Workshop Admin</a
								>
								<a
									*ngIf="!project_application.project_application_openstack_project"
									class="btn btn-outline-primary"
									href="mailto:{{ CLOUD_PORTAL_SUPPORT_MAIL }}"
									rel="noopener noreferrer"
									style="margin-top: 15px"
									target="_blank"
									>Contact Support</a
								>

								<a
									*ngIf="supportMails?.length === 1 && project_application.project_application_openstack_project"
									class="btn btn-outline-primary"
									href="mailto:{{ project_application?.project_application_compute_center.Support }}"
									rel="noopener noreferrer"
									style="margin-top: 15px"
									target="_blank"
									>Contact Support</a
								>

								<div
									*ngIf="supportMails?.length > 1 && project_application.project_application_openstack_project"
									class="dropdown"
									dropdown
									style="margin-top: 15px"
								>
									<button
										aria-expanded="false"
										aria-haspopup="true"
										class="btn btn-outline-primary dropdown-toggle"
										data-toggle="dropdown"
										dropdownToggle
										id="actionDropdownMenu"
										type="button"
									>
										Contact Support
									</button>
									<div *dropdownMenu aria-labelledby="dropdownMenu" class="dropdown-menu" id="dropdownMenu" role="menu">
										<a
											*ngFor="let mail of supportMails"
											class="dropdown-item btn btn-outline-primary"
											href="mailto:{{ mail }}"
											rel="noopener noreferrer"
											target="_blank"
											>Contact {{ mail }}</a
										>
									</div>
								</div>
								<a
									class="btn btn-outline-primary"
									href="{{ STATUS_LINK }}"
									rel="noopener noreferrer"
									style="margin-top: 15px"
									target="_blank"
									>Facility Status</a
								>
							</div>
						</div>
					</div>
					<div
						class="row"
						*ngIf="
							!project_application.project_application_openstack_project &&
							project_application.project_application_workshop &&
							!project_application?.user_is_admin
						"
					>
						<div class="alert alert-info">
							If you experience any problems during a workshop, please contact your workshop administrator first before
							contacting support.
						</div>
					</div>
					<div *ngIf="project_application?.credits_allowed" class="row">
						<div class="col-6">
							<div
								class="callout callout-info"
								style="border-top-width: 0; border-bottom-width: 0; border-right-width: 0"
							>
								<small class="text-muted">Credits</small><br />
								<strong class="text-muted">
									<span
										*ngIf="
											project_application?.project_application_initial_credits -
												project_application?.project_application_current_credits >
											0
										"
									>
										Used {{ project_application?.project_application_current_credits }} of
										{{ project_application?.project_application_initial_credits }} credits <br />
										{{
											project_application?.project_application_initial_credits -
												project_application?.project_application_current_credits
										}}
										credits left</span
									>
									<span
										*ngIf="
											project_application?.project_application_initial_credits -
												project_application?.project_application_current_credits <=
											0
										"
									>
										Used {{ project_application?.project_application_initial_credits }} of
										{{ project_application?.project_application_initial_credits }} credits <br />No credits left!</span
									>
									<span
										*ngIf="
											(project_application | hasstatusinlist: Application_States.CREDITS_EXTENSION_REQUESTED) ||
											(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_CREDITS)
										"
									>
										- {{ project_application?.project_credit_request?.extra_credits }} additional credits requested on
										{{ project_application?.project_credit_request?.date_submitted }}
									</span>
								</strong>
								<br />
								<div class="progress" style="height: 2px">
									<div
										[ngStyle]="{
											'width.%': calculateProgressBar(
												project_application?.project_application_current_credits /
													project_application?.project_application_initial_credits
											),
										}"
										aria-valuemax="100"
										aria-valuemin="0"
										class="progress-bar bg-info"
										role="progressbar"
									></div>
								</div>
								<br />
								<strong class="text-muted">Why do I see this?</strong>
								<br />
								<div class="text-muted">
									We selected your project as one of the few project where we track the resource usage with Cloud
									Credits usage. You should have received an E-Mail with information about Cloud Credits, if this is not
									the case, please message us at
									<a href="mailto:{{ CLOUD_PORTAL_SUPPORT_MAIL }}">{{ CLOUD_PORTAL_SUPPORT_MAIL }}</a
									>. For general information about Cloud Credits please visit:<br />
									- <a href="{{ CREDITS_WIKI }}" rel="noopener noreferrer" target="_blank">Cloud Credits Wiki page</a>
								</div>
							</div>
						</div>
						<div class="col-6" style="margin-top: 15px">
							<ng-container
								*ngIf="
									!project_application.user_is_admin &&
									!(
										(project_application | hasstatusinlist: Application_States.CREDITS_EXTENSION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_CREDITS) ||
										creditsExtensionDisabled
									)
								"
							>
								<span
									class="d-inline-block"
									data-toggle="tooltip"
									tabindex="0"
									title="Only project administators are able to request more credits."
								>
									<button class="btn btn-outline-success" disabled>Request more credits</button>
								</span>
							</ng-container>
							<button
								(click)="showCreditsExtensionModal()"
								*ngIf="
									project_application.user_is_admin &&
									!(
										(project_application | hasstatusinlist: Application_States.CREDITS_EXTENSION_REQUESTED) ||
										(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_CREDITS) ||
										creditsExtensionDisabled
									)
								"
								class="btn btn-outline-success"
								id="show_credits_extension_modal"
								type="button"
							>
								Request more credits
							</button>
							<button
								*ngIf="
									(project_application | hasstatusinlist: Application_States.CREDITS_EXTENSION_REQUESTED) ||
									(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION_CREDITS) ||
									creditsExtensionDisabled
								"
								class="btn btn-outline-secondary"
								disabled
								id="show_credits_extension_modal_disabled"
								type="button"
							>
								More credits requested
							</button>
						</div>
						<div class="col-6">
							<div *ngIf="project_application?.project_application_initial_credits === 0" class="alert alert-primary">
								Your approved credits are lower or equal to zero. Please submit a Credits Extension or contact us at
								<a href="mailto:{{ CLOUD_PORTAL_SUPPORT_MAIL }}">{{ CLOUD_PORTAL_SUPPORT_MAIL }}</a
								>, so we may calculate and set the correct amount for your project.
							</div>
						</div>
					</div>
				</div>
				<div
					class="card-body"
					*ngIf="project_application.migrate_to_simple_vm && project_application.migrated_simple_vm_resources"
				>
					<div class="row">
						<div class="alert alert-info col-8 mx-auto">
							The project is migrated to the new SimpleVM platform. You can access the platform here:
							<a class="alert-link" [href]="NEW_SVM_PORTAL_LINK" target="_blank" rel="noreferrer noopener">{{
								NEW_SVM_PORTAL_LINK
							}}</a>
						</div>
					</div>
				</div>

				<div
					*ngIf="
						project_application &&
						(project_application?.user_is_pi || project_application?.user_is_admin || !project_application)
					"
					class="card-body"
				>
					<div class="row">
						<div class="btn-group col-12">
							<button
								(click)="this.showInformationCollapse = !this.showInformationCollapse"
								class="btn btn-outline-primary col-6"
								id="show_information_btn"
								style="margin: auto"
								type="button"
							>
								<i class="fa fa-info-circle"></i>&nbsp;
								<span *ngIf="this.showInformationCollapse">Hide information</span>
								<span *ngIf="!this.showInformationCollapse">Show more information</span>
							</button>
						</div>
					</div>
				</div>
				<!-- check collapse animation possibility -->
				<div [ngClass]="{ show: showInformationCollapse }" class="collapse">
					<div class="table-responsive">
						<table class="table table-hover">
							<thead>
								<tr>
									<th></th>
									<th>Project Name</th>
									<th>Short Name</th>
									<th>Lifetime</th>
									<th>Date submitted</th>
									<th>Status</th>
								</tr>
							</thead>
							<tbody>
								<ng-container>
									<tr>
										<td>
											<span
												*ngIf="project_application?.project_application_openstack_project"
												data-toggle="tooltip"
												style="font-size: 20px"
												title="This is an Openstack project"
											>
											</span>
											<span
												*ngIf="!project_application?.project_application_openstack_project"
												data-toggle="tooltip"
												style="font-size: 20px"
												title="This is a Simple VM project"
											>
											</span>
										</td>
										<td>{{ project_application?.project_application_name }}</td>
										<td>{{ project_application?.project_application_shortname }}</td>
										<td>{{ project_application?.project_application_lifetime }} months</td>
										<td>{{ project_application?.project_application_date_submitted }}</td>
										<td>
											<ng-container *ngFor="let st of project_application?.project_application_statuses">
												<span *ngIf="st !== 19" class="badge bg-primary" style="margin-left: 3px; margin-right: 3px">
													{{ getStatusById(st) }}
												</span>
											</ng-container>
										</td>
									</tr>
								</ng-container>
							</tbody>
						</table>
						<app-application-detail [application]="project_application"></app-application-detail>
					</div>
				</div>
			</div>
		</div>
		<!--/.col-->
	</div>

	<div class="row">
		<div class="col">
			<div
				class="card"
				id="projectSettingsCard"
				*ngIf="
					project_application &&
					project_application.project_application_openstack_project &&
					((project_application | hasstatusinlist: Application_States.APPROVED) ||
						(project_application | hasstatusinlist: Application_States.MODIFICATION_REQUESTED) ||
						(project_application | hasstatusinlist: Application_States.MODIFICATION_DECLINED))
				"
			>
				<div class="card-header"><i class="fas fa-cogs"></i> Project Settings</div>
				<span *ngIf="!isLoaded" class="spinner-border text-primary" style="display: block; margin: auto"></span>
				<div class="card-body">
					<div class="col-12">
						<ul class="list-group list-group-flush">
							<li class="list-group-item">
								<strong>Project settings</strong>
							</li>
							<li class="list-group-item">
								<div class="form-check form-switch">
									<input
										class="form-check-input"
										type="checkbox"
										id="toggle_member_name_visibility"
										[(ngModel)]="project_application.show_member_names"
										(click)="toggleMemberNameVisibility()"
										[disabled]="
											toggleLocked || !(project_application?.user_is_pi || project_application?.user_is_admin)
										"
									/>
									<label class="help-block" style="vertical-align: middle" for="toggle_member_name_visibility"
										>Project member names visible for non-administrators</label
									>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div
			*ngIf="
				project_application &&
				((project_application | hasstatusinlist: Application_States.APPROVED) ||
					(project_application | hasstatusinlist: Application_States.MODIFICATION_REQUESTED) ||
					(project_application | hasstatusinlist: Application_States.MODIFICATION_DECLINED)) &&
				(project_application.show_member_names || project_application.user_is_admin || is_vo_admin)
			"
			class="col"
		>
			<div class="card" id="projectMemberDiv">
				<div class="card-header">
					<i class="fa fa-users"></i> Project members for {{ project_application?.project_application_shortname }}
					<span
						*ngIf="!project_members_loaded"
						class="spinner-border text-primary"
						style="display: block; margin: auto"
					></span>
				</div>

				<div class="card-body" *ngIf="project_members_loaded">
					<div
						class="alert alert-info"
						*ngIf="project_application.migrate_to_simple_vm || project_application.migrated_simple_vm_resources"
					>
						<strong>Please note:</strong>
						<p>
							This project has been migrated to the new platform. The changes you make here will be synchronised.
							However, this is not instantaneous and it may take a few moments for the changes to be propagateg to the
							new platform.
						</p>
					</div>
					<div *ngIf="project_application.user_is_admin || is_vo_admin" class="btn-group col-12">
						<button
							(click)="setAddUserInvitationLink(); addUserModal.show()"
							class="btn btn-outline-success"
							data-test-id="add_member_btn_modal"
							id="add_member_btn_modal"
							style="margin-bottom: 5px"
							type="button"
						>
							<i class="fa fa-plus"></i>&nbsp; Add Member
						</button>

						<button
							(click)="applicationModal.show(); getUserProjectApplications()"
							class="btn btn-outline-primary"
							style="margin-bottom: 5px"
							type="button"
						>
							<i class="far fa-list-alt"></i>&nbsp; Member Applications
							<c-badge
								color="{{
									project_application?.project_application_member_applications?.length > 0 ? 'success' : 'dark'
								}}"
							>
								{{ project_application?.project_application_member_applications?.length }}
							</c-badge>
						</button>

						<button
							(click)="removeCheckedMembers()"
							[disabled]="checked_member_list.length <= 0 || remove_members_clicked"
							class="btn btn-outline-danger"
							style="margin-bottom: 5px"
							type="button"
						>
							<i class="fas fa-trash-alt"></i>&nbsp;Remove Members
						</button>
					</div>

					<div *ngIf="!project_application.user_is_admin && !is_vo_admin" class="col-12 alert alert-primary">
						<span
							><strong>Notice: </strong>Only project administrators are able to remove or add project members and change
							the status of members.</span
						>
					</div>
					<div class="table-responsive">
						<table class="table table-hover">
							<thead>
								<tr>
									<th *ngIf="project_application.user_is_admin || is_vo_admin">
										<input
											(change)="setAllMembersChecked()"
											[checked]="allSet"
											id="selectAll"
											name="selectAll"
											type="checkbox"
										/>
									</th>
									<th>User ID</th>
									<th>Member ID</th>
									<th
										*ngIf="project_application.user_is_admin || is_vo_admin || project_application?.show_member_names"
									>
										Full Name <span *ngIf="!project_application?.show_member_names">(hidden)</span>
									</th>
									<th *ngIf="project_application.user_is_admin || is_vo_admin">Actions</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let member of project_members" [ngStyle]="{ color: member.isAdmin ? '#005AA9' : 'black' }">
									<td *ngIf="project_application.user_is_admin || is_vo_admin">
										<input
											(change)="checkUnCheckMember(member.memberId)"
											*ngIf="userinfo?.MemberId.toString() !== member.memberId.toString()"
											[checked]="isMemberChecked(member.memberId)"
											id="{{ member.userId }}"
											name="member.userId"
											type="checkbox"
										/>
									</td>
									<td>{{ member.userId }}</td>
									<td>{{ member.memberId }}</td>
									<td
										*ngIf="project_application.user_is_admin || is_vo_admin || project_application?.show_member_names"
									>
										{{ member.userName }}
										<span *ngIf="member.isAdmin" class="badge badge-pill bg-info-blue">ADMIN</span>
										<span *ngIf="member.isPi" class="badge badge-pill bg-danger">PI</span>
										<span *ngIf="!member.isPi && !member.isAdmin" class="badge badge-pill bg-warning">MEMBER</span>
									</td>
									<td *ngIf="!(project_application.user_is_pi || project_application.user_is_admin || is_vo_admin)">
										<div class="btn-group" role="group">
											<button
												[disabled]="!member?.publicKey"
												class="btn btn-outline-secondary"
												style="margin: 2px"
												type="button"
												(click)="showPublicKeyModal(member)"
											>
												<i *ngIf="member?.publicKey" class="fa fa-key" style="color: darkgreen"></i>
												<i *ngIf="!member?.publicKey" class="fa fa-key" style="color: darkred"></i>Public Key
											</button>
										</div>
									</td>
									<td *ngIf="project_application.user_is_pi || project_application.user_is_admin || is_vo_admin">
										<div class="btn-group" role="group">
											<button
												(click)="promoteAdmin(member.userId, member.userName); notificationModal.show()"
												*ngIf="!member.isAdmin"
												class="btn btn-primary"
												style="margin: 2px"
												type="button"
											>
												<i class="fa fa-plus-circle"></i>&nbsp; Set Admin status
											</button>

											<button
												(click)="removeAdmin(member.userId, member.userName); notificationModal.show()"
												*ngIf="
													member.isAdmin && userinfo?.MemberId.toString() !== member.memberId.toString() && !member.isPi
												"
												[disabled]="member?.isPi"
												class="btn btn-primary"
												style="margin: 2px"
												type="button"
											>
												<i class="fa fa-minus-circle"></i>&nbsp; Remove Admin status
											</button>
											<button
												(click)="removeMember(member.memberId, member.userName); notificationModal.show()"
												*ngIf="userinfo?.MemberId.toString() !== member.memberId.toString()"
												[id]="'remove_member_' + member.userName"
												[disabled]="member?.isPi"
												class="btn btn-danger"
												style="margin: 2px"
												type="button"
											>
												<i class="fas fa-trash-alt"></i>&nbsp; Remove member
											</button>
											<button
												[disabled]="!member?.publicKey"
												class="btn btn-outline-secondary"
												style="margin: 2px"
												type="button"
												(click)="showPublicKeyModal(member)"
											>
												<i *ngIf="member?.publicKey" class="fa fa-key" style="color: darkgreen"></i>
												<i *ngIf="!member?.publicKey" class="fa fa-key" style="color: darkred"></i>Public Key
											</button>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div
			*ngIf="
				project_application &&
				(project_application?.user_is_pi || project_application?.user_is_admin) &&
				!(project_application | hasstatusinlist: Application_States.TERMINATED) &&
				!(project_application | hasstatusinlist: Application_States.DECLINED) &&
				!(project_application | hasstatusinlist: Application_States.SUBMITTED) &&
				!(project_application | hasstatusinlist: Application_States.WAIT_FOR_CONFIRMATION)
			"
			class="col"
		>
			<div class="card" id="publicInformationCard">
				<div class="card-header"><i class="fas fa-bullhorn"></i> Public project information</div>

				<div class="card-body">
					<h5 class="card-title">
						<a href="{{ WIKI_PUBLICATIONS }}" rel="noopener noreferrer" target="_blank">
							Digital object identifier (DOI)</a
						>
					</h5>
					<div *ngIf="doiError" class="alert alert-danger">{{ doiError }}</div>
					<div class="row">
						<div class="col-10">
							<input
								#doiInput
								[(ngModel)]="newDoi"
								[disabled]="disabledDoiInput"
								id="doi_input_field"
								pattern="10.\d{4,9}\/[-._;()\/:a-zA-Z0-9]+"
								placeholder="e.g. 10.1000/182"
								style="width: 100%"
								type="text"
							/>
						</div>
						<div class="col-2">
							<button
								(click)="addDoi()"
								[disabled]="!doiInput.validity.valid || disabledDoiInput"
								class="btn btn-success"
								id="add_doi_btn"
								type="button"
							>
								<i class="fa fa-plus"></i>&nbsp;
							</button>
						</div>
					</div>
					<div class="table-responsive">
						<table class="table">
							<tbody>
								<ng-container *ngFor="let doi of dois">
									<tr>
										<td>
											<a [href]="'https://doi.org/' + doi.identifier" rel="noopener noreferrer" target="_blank">{{
												doi.identifier
											}}</a>
										</td>

										<td>
											<button (click)="deleteDoi(doi)" class="btn btn-danger" type="button">
												<i class="fas fa-trash-alt"></i>&nbsp;
											</button>
										</td>
									</tr>
								</ng-container>

								<tr>
									<td></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="alert alert-info">
						<p>
							If you are unsure whether a DOI has already been entered (for example, in a previous or expired project):
							<strong>Duplicate entries are recognized by our system and do not pose a problem.</strong>
							In addition to the public page, a
							<a href="{{ PUBLIC_DOI_ENDPOINT }}" rel="noopener noreferrer" class="alert-link" target="_blank"
								>public endpoint</a
							>
							is accessible, which returns all registered DOIs and the associated information.
						</p>
						<hr />
						<p>
							Please note that <strong>the publications entered on this page are listed publicly</strong>
							on
							<a href="{{ PUBLICATIONS_LINK }}" rel="noopener noreferrer" class="alert-link" target="_blank"
								>this page on our website</a
							>. We kindly ask you to list your publications which have been created during your work in the de.NBI
							Cloud and/or this project.
						</p>
					</div>
				</div>
				<hr />
				<div id="testimonialForm" *ngIf="project_application && isLoaded && project_application.isApproved()">
					<app-testimonial-form
						[title]="project_application?.project_application_name"
						[contributor]="project_application?.project_application_pi?.username"
						[institution]="project_application?.project_application_institute"
						[workgroup]="project_application?.project_application_workgroup"
						[simple_vm]="!project_application?.project_application_openstack_project"
						[project_application]="project_application"
						[testimonialSent]="project_application.project_application_testimonial_submitted"
					></app-testimonial-form>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<div
			*ngIf="
				project_application &&
				project_application.credits_allowed &&
				((project_application | hasstatusinlist: Application_States.APPROVED) ||
					(project_application | hasstatusinlist: Application_States.MODIFICATION_REQUESTED) ||
					(project_application | hasstatusinlist: Application_States.MODIFICATION_DECLINED))
			"
			class="col"
		>
			<div class="card" style="">
				<div class="card-header">
					<i class="fas fa-align-justify"></i> Credit Usage history of
					{{ project_application?.project_application_shortname }}
				</div>
				<div class="card-body justify-content-center align-items-center">
					<div class="alert alert-info">
						In the chart below we show you up to 25 equidistant data points. This may result in an unexpected looking
						graph.
					</div>
					<div *ngIf="!creditHistoryLoaded" id="overlay">
						<div class="w-100 d-flex justify-content-center align-items-center">
							<div class="spinner"></div>
						</div>
					</div>
					<canvas #creditsChart id="creditsChart"></canvas>
				</div>
			</div>
		</div>
	</div>
</div>

<div
	#addUserModal="bs-modal"
	aria-hidden="true"
	aria-labelledby="Label"
	bsModal
	class="modal fade"
	role="dialog"
	tabindex="-1"
>
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">Add member to the project {{ project_application?.project_application_shortname }}</h4>
				<button
					(click)="addUserModal.hide()"
					aria-label="Close"
					class="btn-close"
					style="cursor: pointer"
					type="button"
				></button>
			</div>
			<div class="modal-body">
				<div class="container-fluid p-4">
					<!-- Registration Section -->
					<section class="mb-5">
						<div class="alert alert-primary" role="alert">
							<h2 class="h3 mb-3">Step 1: Register for de.NBI Cloud Portal</h2>
							<p class="text-secondary">
								Before applying for membership, users must register for the de.NBI Cloud Portal. Share this link with
								them:
							</p>

							<div class="registration-link">
								<pre><strong>{{ CLOUD_PORTAL_REGISTER_LINK }}</strong></pre>
								<button class="btn btn-outline-secondary" (click)="copyToClipboard(CLOUD_PORTAL_REGISTER_LINK)">
									Copy link
								</button>
							</div>
						</div>
					</section>

					<!-- Invitation Section -->
					<section class="mb-5">
						<div class="alert alert-primary" role="alert">
							<h2 class="h3 mb-3">Step 2: Share Invitation Links</h2>
							<p class="text-secondary">
								After registering, share these invitation link to add users to the project. Project admins can approve
								applications in the member applications tab.
							</p>
							<div class="invitation-link">
								<pre><strong>{{ invitation_link }}</strong></pre>
								<button class="btn btn-outline-secondary" (click)="copyToClipboard(invitation_link)">Copy link</button>
							</div>
						</div>
					</section>

					<!-- Additional Information -->
					<section>
						<div class="alert alert-primary" role="alert">
							<h2 class="h3 mb-3">Next Steps</h2>
							<p class="text-secondary">
								After the user registers and applies for your group, you can approve their application. Read more about
								the process <a href="{{ WIKI_MEMBER_MANAGEMENT }}" rel="noopener noreferrer" target="_blank">here</a>.
							</p>
						</div>
					</section>
				</div>
			</div>
			<div class="modal-footer">
				<!--  <button type="button" (click)="addUserModal.hide();
                                                                                    notificationModal.show();
                                                                                    addMember(addUserModalProjectID, addMemberID.value)" class="btn btn-success"><i class="far fa-dot-circle"></i>
                            Add User
                    </button> -->
				<button
					(click)="addUserModal.hide()"
					class="btn btn-danger"
					id="close_add_user_modal_btn"
					data-test-id="close_add_user_modal_btn"
					type="button"
				>
					<i class="fa fa-times"></i> Close
				</button>
			</div>
		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal-dialog -->

	<div
		#applicationModal="bs-modal"
		aria-hidden="true"
		aria-labelledby="myModalLabel"
		bsModal
		class="modal fade"
		role="dialog"
		tabindex="-1"
	>
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">Applications for {{ project_application?.project_application_shortname }}</h4>
					<button
						(click)="applicationModal.hide()"
						aria-label="Close"
						class="btn-close"
						style="cursor: pointer"
						type="button"
					></button>
				</div>
				<div class="modal-body">
					<div *ngIf="!memberApplicationsLoaded" style="text-align: center">
						<i
							class="fa fa-spinner fa-spin"
							style="font-size: 100px; margin: auto; margin-left: auto; margin-right: auto"
						></i>
					</div>

					<div *ngIf="memberApplicationsLoaded" class="table-responsive">
						<table class="table table-bordered table-striped table-sm">
							<thead>
								<th>Name</th>
								<th>Date Submitted</th>
								<th>Actions</th>
							</thead>
							<tbody *ngFor="let application of project_application?.project_application_member_applications">
								<td>{{ application?.Name }}</td>
								<td>{{ application?.DateCreated }}</td>

								<td>
									<button
										(click)="approveMemberApplication(application.Id, application.Name)"
										class="btn btn-outline-success"
									>
										<i class="fa fa-check"></i> Approve
									</button>
									<button
										(click)="
											application_action = 'rejected';
											application_member_name = application.Name;
											rejectMemberApplication(application.Id, application.Name)
										"
										class="btn btn-outline-danger"
										style="margin-left: 10px"
									>
										<i class="fa fa-times"></i> Reject
									</button>
								</td>
							</tbody>
						</table>
					</div>
				</div>

				<div class="modal-footer">
					<p *ngIf="application_action_success && application_action_done" class="alert alert-success me-auto">
						<strong>Success:</strong> Successfully {{ application_action }} the application of
						{{ application_member_name }}.
					</p>
					<p
						*ngIf="!application_action_success && application_action_done && !application_action_error_message"
						class="alert alert-danger me-auto"
					>
						<strong>Failed:</strong> The application of {{ application_member_name }} could not be
						{{ application_action }} .
					</p>
					<p
						*ngIf="!application_action_success && application_action_done && application_action_error_message"
						class="alert alert-danger me-auto"
					>
						<strong>Failed:</strong> User didn't verify their email address yet. Please wait until the email is
						verified.
					</p>
					<button (click)="getUserProjectApplications()" class="btn btn-primary" type="button">Refresh</button>
					<button
						(click)="application_action_error_message = null; applicationModal.hide()"
						class="btn btn-secondary"
						type="button"
					>
						Close
					</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>

	<div
		#notificationModal="bs-modal"
		aria-hidden="true"
		aria-labelledby="Label"
		bsModal
		class="modal fade"
		role="dialog"
		tabindex="-1"
	>
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="notification_title" data-test-id="notification_title">
						{{ notificationModalTitle }}
					</h4>
					<button
						(click)="notificationModal.hide()"
						aria-label="Close"
						class="btn-close"
						style="cursor: pointer"
						type="button"
					></button>
				</div>
				<div class="modal-body">
					<div class="alert alert-{{ notificationModalType }}" role="alert" data-test-id="request_result_div">
						{{ notificationModalMessage }}
					</div>
				</div>
				<div class="modal-footer">
					<button
						(click)="resetNotificationModal(); notificationModal.hide()"
						*ngIf="notificationModalIsClosable === true"
						class="btn btn-secondary"
						data-test-id="close_notification"
						id="close_notification"
						type="button"
						type="reset"
					>
						Close
					</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<div
		#deleteModal="bs-modal"
		aria-hidden="true"
		aria-labelledby="Label"
		bsModal
		class="modal fade"
		id="remove_application_modal"
		role="dialog"
		tabindex="-1"
	>
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">Delete Application</h4>
					<button
						(click)="deleteModal.hide()"
						aria-label="Close"
						class="btn-close"
						style="cursor: pointer"
						type="button"
					></button>
				</div>
				<div class="modal-body">
					<div class="alert alert-warning" role="alert">Are you sure you want to remove this application?</div>
				</div>
				<div class="modal-footer">
					<button
						(click)="deleteApplication(); deleteModal.hide(); notificationModal.show()"
						class="btn btn-success col-md-4"
						id="confirm_remove_application_button"
					>
						Yes
					</button>
					<button (click)="deleteModal.hide()" class="btn btn-danger col-md-4" type="reset">Cancel</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<div
		#leaveProjectModal="bs-modal"
		aria-hidden="true"
		aria-labelledby="Label"
		bsModal
		class="modal fade"
		id="leave_project_modal"
		role="dialog"
		tabindex="-1"
	>
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">Leave Project</h4>
					<button
						(click)="leaveProjectModal.hide()"
						aria-label="Close"
						class="btn-close"
						style="cursor: pointer"
						type="button"
					></button>
				</div>
				<div class="modal-body">
					<div class="alert alert-warning" role="alert">Are you sure you want to leave the project?</div>
				</div>
				<div class="modal-footer">
					<button
						(click)="
							leaveProject(userinfo?.MemberId, project_application?.project_application_shortname);
							leaveProjectModal.hide();
							notificationModal.show()
						"
						class="btn btn-success col-md-4"
						id="confirm_leave_project_button"
					>
						Yes
					</button>
					<button (click)="leaveProjectModal.hide()" class="btn btn-danger col-md-4" type="reset">Cancel</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->
</div>
