@if (!frames_loaded) {
	<div F>
		<span class="spinner-border text-info"></span>
	</div>
}
@if (frames_loaded && (maintenanceTimeFrames.length > 0 || error_on_loading)) {
	<div
		id="maintenance-information"
		class="callout"
		[ngClass]="{
			'callout-warning': error_on_loading,
			'callout-info': maintenanceTimeFrames.length === 0,
			'callout-danger': maintenanceTimeFrames.length > 0,
		}"
	>
		@if (maintenanceTimeFrames.length > 0 && !error_on_loading) {
			<div>
				<div class="alert alert-info">
					The following maintenance timeframes have been announced and may result into downtimes of the portal during
					this period. Access to virtual machines that have already been started is not affected.
				</div>
				<ul class="list-group">
					@for (tf of maintenanceTimeFrames; track tf) {
						<li
							class="list-group-item d-flex justify-content-between align-items-start"
							[ngClass]="tf.significant ? 'list-group-item-danger' : ''"
						>
							<div class="ms-2 me-auto">
								<div class="fw-bold">{{ tf.name }}</div>
								{{ tf.start_time | date: 'dd/MM/yy HH:mm' : 'de' }}
								- {{ tf.end_time | date: 'dd/MM/yy HH:mm' : 'de' }}
								<br />
								{{ tf.message.length > 0 ? tf.message : '' }}
							</div>
						</li>
					}
				</ul>
				@if (numberOfConfirmableTimeframes > 0) {
					<div class="mt-3">
						<div class="alert alert-info align-content-between">
							Please confirm that you have taken note of the above maintenance times.
							<button class="btn btn-info m-1" type="button" (click)="confirmTakenNote()">Confirm</button>
						</div>
					</div>
				}
			</div>
		}
		@if (frames_loaded && error_on_loading) {
			<div>An error occurred loading possible maintenance timeframes.</div>
		}
	</div>
}
